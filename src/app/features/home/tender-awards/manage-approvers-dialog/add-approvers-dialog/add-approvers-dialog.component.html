<h2 mat-dialog-title>Add Approvers</h2>
<mat-dialog-content>
  <div *ngIf="isLoading" class="loading-state">Loading available approversâ€¦</div>
  <div *ngIf="!isLoading && loadError" class="error-state">
    Unable to load approver and delegate lists. Please try again later.
  </div>

  <div *ngIf="!isLoading && !loadError" class="selection-grid">
    <div class="selection-column">
      <h3>Approvers</h3>
      <p *ngIf="approverOptions.length === 0" class="empty-message">
        All available approvers are already assigned to this report.
      </p>
      <mat-selection-list *ngIf="approverOptions.length" [multiple]="true">
        <mat-list-option
          *ngFor="let option of approverOptions"
          [selected]="selectedApproverIds.has(option.objectId)"
          (selectionChange)="toggleApprover(option, $event.source.selected)"
        >
          {{ option.displayName || option.objectId }}
        </mat-list-option>
      </mat-selection-list>
    </div>

    <div class="selection-column">
      <h3>Delegates</h3>
      <mat-radio-group [value]="selectedDelegateId" (change)="selectDelegate($event.value)">
        <mat-radio-button class="radio-option" [value]="null">No delegate</mat-radio-button>
        <mat-radio-button
          class="radio-option"
          *ngFor="let delegate of delegateOptions"
          [value]="delegate.objectId"
        >
          {{ delegate.displayName || delegate.objectId }}
        </mat-radio-button>
      </mat-radio-group>
    </div>
  </div>
</mat-dialog-content>
<mat-dialog-actions align="end">
  <button mat-button type="button" (click)="cancel()">Cancel</button>
  <button
    mat-raised-button
    color="primary"
    type="button"
    (click)="confirm()"
    [disabled]="!hasSelection || isLoading || loadError"
  >
    Add Selected
  </button>
</mat-dialog-actions>
